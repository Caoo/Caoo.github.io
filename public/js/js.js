var loading=function(){var n,t=[],e=function(t){n=t};return e.prototype={load:function(){for(var e=n.length,i=e,s=0;i;){var r=new Image;r.onload=function(){++s===e&&t.forEach(function(n){n.call(this)})}.bind(this),r.onerror=function(){alert("error"),this.onload=null},r.src=n[--i]}return this},add:function(n){return n=n.concat(n),this},done:function(n){return t.push(n),this},reject:function(n){return reject.push(n),this},timeout:function(){return this}},e}();!function(){var n=function(n){var t=(this.$el=$(n.el),this);this.cb=n.cb,$(document).on("scroll",function(){for(var e=t.nearels(n.once),i=e.length;i;)t.cb.call(e[--i])})};n.prototype={nearels:function(n){var t=this,e=[];return this.$el.each(function(i,s){s.fired||t.isnear(s)&&e.push(s)&&n&&(s.fired=!0)}),e},isnear:function(n){var t=$(document).scrollTop(),e=$(n).offset().top;return t-e<500&&e-t<500}},window.scrollnear=n}();var runningPercentage=function(){var n=$(this).find(".percen-num"),t=setInterval(function(){num=n.text(),"100"===num?clearInterval(t)&&(t=null):n.text(++num)})},sourselist=["./public/images/banner1.jpg"],shouping=new loading(sourselist);setTimeout(function(){$(".loading-animation").addClass("loading-end"),setTimeout(function(){$(".loading-animation").remove()},500)},2100),$(function(){function n(){this.init()}function t(){this.init()}new scrollnear({el:".percentage",cb:runningPercentage,once:!0}),n.prototype={init:function(){this.getDom(),this.setListener()},getDom:function(){this.flashBtns=$(".flash-btn"),this.buttonBox=$(".button-line"),this.flash=$(".flash"),this.flashTarget=$(".flash-target")},setListener:function(){var n=this;this.buttonBox.on("click",".flash-btn",function(){var t=$(this).index(),e=$(this).siblings();e.removeClass("target"),$(this).addClass("target"),n.switchFlash(t)})},switchFlash:function(n){this.flash.css("right",100*n+"%")}},new n,t.prototype={init:function(){this.getDom(),this.initData(),this.setListener(),this.initAni()},getDom:function(){this.flashBox=$(".banner"),this.banners=$(".banner-inner"),this.btn=$(".banner-inner-btn")},initData:function(){this.selectedIndex=0,this.indexRang=this.banners.length,this.animation=null,this.timeQue=null},setListener:function(){var n=this;this.btn.on("click",function(){n.selectedIndex=$(this).index(),n.selectBanner()})},initAni:function(){var n=this;this.animation=setInterval(function(){n.selectedIndex++,n.selectedIndex===n.indexRang&&(n.selectedIndex=0),n.switchBanner()},3500)},selectBanner:function(){clearInterval(this.animation),clearTimeout(this.timeQue),this.switchBanner();var n=this;this.timeQue=setTimeout(function(){n.initAni()},3e3)},switchBanner:function(){var n=this.selectedIndex;this.btn.removeClass("banner-btn-target"),this.banners.removeClass("banner-inner-target"),this.banners.eq(n).addClass("banner-inner-target"),this.btn.eq(n).addClass("banner-btn-target")}},new t});